-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj\hdlsrc\AN_Simulink_Model_v1\Calculate_rsigma.vhd
-- Created: 2020-04-16 11:39:35
-- 
-- Generated by MATLAB 9.7 and HDL Coder 3.15
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: Calculate_rsigma
-- Source Path: AN_Simulink_Model_v1/Auditory Nerve Model/C1 Chirp Filter/Calculate rsigma
-- Hierarchy Level: 2
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY Calculate_rsigma IS
  PORT( tauc1                             :   IN    std_logic_vector(31 DOWNTO 0);  -- single
        rsigma                            :   OUT   std_logic_vector(31 DOWNTO 0)  -- single
        );
END Calculate_rsigma;


ARCHITECTURE rtl OF Calculate_rsigma IS

  -- Component Declarations
  COMPONENT nfp_recip_single
    PORT( nfp_in                          :   IN    std_logic_vector(31 DOWNTO 0);  -- single
          nfp_out                         :   OUT   std_logic_vector(31 DOWNTO 0)  -- single
          );
  END COMPONENT;

  COMPONENT nfp_sub_single
    PORT( nfp_in1                         :   IN    std_logic_vector(31 DOWNTO 0);  -- single
          nfp_in2                         :   IN    std_logic_vector(31 DOWNTO 0);  -- single
          nfp_out                         :   OUT   std_logic_vector(31 DOWNTO 0)  -- single
          );
  END COMPONENT;

  -- Component Configuration Statements
  FOR ALL : nfp_recip_single
    USE ENTITY work.nfp_recip_single(rtl);

  FOR ALL : nfp_sub_single
    USE ENTITY work.nfp_sub_single(rtl);

  -- Signals
  SIGNAL Reciprocal_out1                  : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Constant2_out1                   : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Reciprocal1_out1                 : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Subtract_out1                    : std_logic_vector(31 DOWNTO 0);  -- ufix32

BEGIN
  -- Note: There are multiple HDL-friendly recipricol blocks. Use this block type for highest accuracy.
  -- 
  -- Calculating rsigma using time constant feedback input

  u_nfp_recip_comp : nfp_recip_single
    PORT MAP( nfp_in => tauc1,  -- single
              nfp_out => Reciprocal_out1  -- single
              );

  u_nfp_recip_comp_1 : nfp_recip_single
    PORT MAP( nfp_in => Constant2_out1,  -- single
              nfp_out => Reciprocal1_out1  -- single
              );

  u_nfp_sub_comp : nfp_sub_single
    PORT MAP( nfp_in1 => Reciprocal_out1,  -- single
              nfp_in2 => Reciprocal1_out1,  -- single
              nfp_out => Subtract_out1  -- single
              );

  Constant2_out1 <= X"3b4557bf";

  rsigma <= Subtract_out1;

END rtl;

